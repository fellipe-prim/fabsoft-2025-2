<div class="container py-5 text-center">
    <!-- Cabeçalho -->
    <h2 class="mb-4">Selecione seus Assentos</h2>
    <p class="text-muted" *ngIf="sessao">
        Filme: <strong>{{ sessao.filme.titulo }}</strong> | 
        Horário: 
        <span *ngIf="sessao.dataHora.length">
            {{ sessao.dataHora[3] | number:'2.0' }}:{{ sessao.dataHora[4] | number:'2.0' }}
        </span>
    </p>

    <div class="screen-container mb-5">
        <div class="screen">TELA</div>
    </div>

    <!-- GRID DE CADEIRAS REAIS -->
    <div class="assentos-grid">
        <div *ngFor="let ingresso of listaIngressos" 
             (click)="toggleAssento(ingresso)"
             class="assento"
             [class.selecionado]="selecionados.has(ingresso)"
             [class.ocupado]="ingresso.status === 'VENDIDO'"> <!-- Usa o status do banco! -->
             
             <i class="bi bi-person-fill"></i>
             <span class="small d-block mt-1">{{ ingresso.numeroAssento }}</span>
        </div>
    </div>

    <!-- LEGENDA -->
    <div class="d-flex justify-content-center gap-4 mt-4 small">
        <div class="d-flex align-items-center"><div class="legenda livre"></div> Livre</div>
        <div class="d-flex align-items-center"><div class="legenda selecionado"></div> Selecionado</div>
        <div class="d-flex align-items-center"><div class="legenda ocupado"></div> Ocupado</div>
    </div>

    <button (click)="finalizarCompra()" class="btn btn-success btn-lg mt-5 px-5">
        Finalizar Compra ({{ selecionados.size }} itens)
    </button>
</div>